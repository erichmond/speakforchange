indexer
{
  mem_limit = 64M
}

searchd
{
  port = 13000
  log = /Users/eric/projects/linode/speakforchange/rails/log/searchd.log
  query_log = /Users/eric/projects/linode/speakforchange/rails/log/searchd.query.log
  read_timeout = 5
  max_children = 30
  pid_file = /Users/eric/projects/linode/speakforchange/rails/log/searchd.development.pid
  max_matches = 1000
}

source issue_0_core
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db   = speakchange_development

  sql_query_pre    = SET NAMES utf8
  sql_query_pre    = 
  sql_query        = SELECT `issues`.`id`, CAST(`issues`.`title` AS CHAR) AS `title`, CAST(`issues`.`description` AS CHAR) AS `description`, UNIX_TIMESTAMP(`issues`.`created_at`) AS `created_at`, 3547073594 AS `class_crc` FROM issues    WHERE `issues`.`id` >= $start   AND `issues`.`id` <= $end    GROUP BY `issues`.`id` ORDER BY NULL 
  sql_query_range  = SELECT MIN(`id`), MAX(`id`) FROM `issues` 
  sql_query_info   = SELECT * FROM `issues` WHERE  `id` = $id
  sql_attr_timestamp   = created_at
  sql_attr_uint        = class_crc
}

index issue_core
{
  source = issue_0_core
  morphology = stem_en
  path = /Users/eric/projects/linode/speakforchange/rails/db/sphinx/development//issue_core
  charset_type = utf-8
}
index issue
{
  type = distributed
  local = issue_core
}

source legislator_0_core
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db   = speakchange_development

  sql_query_pre    = SET NAMES utf8
  sql_query_pre    = 
  sql_query        = SELECT `legislators`.`id`, CAST(CONCAT_WS(' ', `legislators`.`firstname`, `legislators`.`middlename`, `legislators`.`lastname`, `legislators`.`nickname`) AS CHAR) AS `name`, CAST(`legislators`.`website` AS CHAR) AS `website`, CAST(`legislators`.`email` AS CHAR) AS `email`, CAST(`legislators`.`phone` AS CHAR) AS `phone`, CAST(`legislators`.`fax` AS CHAR) AS `fax`, CAST(`legislators`.`congress_office` AS CHAR) AS `congress_office`, CAST(`legislators`.`twitter_id` AS CHAR) AS `twitter_id`, CAST(`legislators`.`congresspedia_url` AS CHAR) AS `congresspedia_url`, CAST(`legislators`.`youtube_url` AS CHAR) AS `youtube_url`, CAST(`legislators`.`official_rss` AS CHAR) AS `official_rss`, IFNULL(CONCAT_WS(' ', `legislators`.`firstname`, `legislators`.`middlename`, `legislators`.`lastname`, `legislators`.`nickname`), '') AS `name_sort`, IFNULL(`legislators`.`twitter_id`, '') AS `twitter_id_sort`, IFNULL(`legislators`.`congresspedia_url`, '') AS `congresspedia_url_sort`, IFNULL(`legislators`.`youtube_url`, '') AS `youtube_url_sort`, IFNULL(`legislators`.`official_rss`, '') AS `official_rss_sort`, UNIX_TIMESTAMP(`legislators`.`created_at`) AS `created_at`, `legislators`.`in_office` AS `in_office`, 3900717462 AS `class_crc` FROM legislators    WHERE `legislators`.`id` >= $start   AND `legislators`.`id` <= $end    GROUP BY `legislators`.`id` ORDER BY NULL 
  sql_query_range  = SELECT MIN(`id`), MAX(`id`) FROM `legislators` 
  sql_query_info   = SELECT * FROM `legislators` WHERE  `id` = $id
  sql_attr_str2ordinal = name_sort
  sql_attr_str2ordinal = twitter_id_sort
  sql_attr_str2ordinal = congresspedia_url_sort
  sql_attr_str2ordinal = youtube_url_sort
  sql_attr_str2ordinal = official_rss_sort
  sql_attr_timestamp   = created_at
  sql_attr_bool        = in_office
  sql_attr_uint        = class_crc
}

index legislator_core
{
  source = legislator_0_core
  morphology = stem_en
  path = /Users/eric/projects/linode/speakforchange/rails/db/sphinx/development//legislator_core
  charset_type = utf-8
}
index legislator
{
  type = distributed
  local = legislator_core
}

source message_0_core
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db   = speakchange_development

  sql_query_pre    = SET NAMES utf8
  sql_query_pre    = 
  sql_query        = SELECT `messages`.`id`, CAST(`messages`.`zipcode` AS CHAR) AS `zipcode`, CAST(`messages`.`state` AS CHAR) AS `state`, CAST(`messages`.`title` AS CHAR) AS `title`, CAST(GROUP_CONCAT(`tags`.`name` SEPARATOR ' ') AS CHAR) AS `tag`, CAST(`messages`.`legislator_name` AS CHAR) AS `legislator_name`, CAST(`messages`.`issue_name` AS CHAR) AS `issue_name`, IFNULL(`messages`.`zipcode`, '') AS `zipcode_sort`, IFNULL(`messages`.`title`, '') AS `title_sort`, UNIX_TIMESTAMP(`messages`.`created_at`) AS `created_at`, `messages`.`lat` AS `lat`, `messages`.`lng` AS `lng`, 2030045667 AS `class_crc` FROM messages    LEFT OUTER JOIN `taggings` ON `taggings`.taggable_id = `messages`.id AND `taggings`.taggable_type = 'Message'  LEFT OUTER JOIN `tags` ON `tags`.id = `taggings`.tag_id  WHERE `messages`.`id` >= $start   AND `messages`.`id` <= $end    GROUP BY `messages`.`id` ORDER BY NULL 
  sql_query_range  = SELECT MIN(`id`), MAX(`id`) FROM `messages` 
  sql_query_info   = SELECT * FROM `messages` WHERE  `id` = $id
  sql_attr_str2ordinal = zipcode_sort
  sql_attr_str2ordinal = title_sort
  sql_attr_timestamp   = created_at
  sql_attr_float       = lat
  sql_attr_float       = lng
  sql_attr_uint        = class_crc
}

index message_core
{
  source = message_0_core
  morphology = stem_en
  path = /Users/eric/projects/linode/speakforchange/rails/db/sphinx/development//message_core
  charset_type = utf-8
}
index message
{
  type = distributed
  local = message_core
}
